<%@ page pageEncoding="UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<%@ taglib prefix="ui" uri="http://egovframework.gov/ctl/ui" %>
<!DOCTYPE html>
<html lang="ko">
<head>
<!-- 공통 헤더 -->
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><!--인코딩 설정-->
<meta name="content-language" content="kr"><!--기록된 언어-->
<meta http-equiv="X-UA-Compatible" content="IE=edge"><!--ie를 최신 코드로 적용-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"><!--화면 배율-->

<title>Honey Dream</title>

<!-- 캐쉬 파기 시간: 캐쉬가 쌓이지 않고 매번 새로운 페이지 로딩 세팅 -->
<meta http-equiv="Cache-Control" content="no-cache"/> 
<meta http-equiv="Expires" content="-1"/>
<meta http-equiv="Pragma" content="no-cache"/>

<!-- css -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/resources/css/common.css"/>

<!-- js -->
<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script src="/resources/js/common.js"></script>
<script src="/resources/js/search_cafe.js"></script>
</head>
<body>
<header>
	<div class="header_wrap slim_scroll layoutCenter flexBetween">
		<div class="logo_wrap">
			<a href="/main">
				<img class="logo" alt="Honey Dream Logo" src="/resources/image/logo.png">
				<img class="logo_w" alt="Honey Dream Logo" src="/resources/image/logo_w.png">
			</a>
		</div>
		<form id="search" class="flexCenter flexWrap" name="search" method="post" action="/main">
		<c:choose>
			<c:when test="${search_type == 'gps'}">
				<ul class="types flexBetween">
					<li><input type="radio" class="fa search" name="search_type" value="search"></li>
					<li><input type="radio" class="fa gps" name="search_type" value="gps" checked></li>
					<li><input type="radio" class="fa subway" name="search_type" value="subway"></li>
				</ul>
				<div class="keyword_wrap">${search_keyword}</div>
			</c:when>
			<c:when test="${search_type == 'subway'}">
				<ul class="types flexBetween">
					<li><input type="radio" class="fa search" name="search_type" value="search"></li>
					<li><input type="radio" class="fa gps" name="search_type" value="gps"></li>
					<li><input type="radio" class="fa subway" name="search_type" value="subway" checked></li>
				</ul>
				<div class="keyword_wrap">
					<button type="button" onclick="show_subway_lines(this)">
						<ul class="select_title flex">
							<li class="loc">지역</li>
							<li class="line">호선</li>
							<li class="search_keyword">지하철역</li>
						</ul>
					</button>
					<div class="select_list">
						<ul class="loc slim_scroll"></ul>
						<ul class="line slim_scroll"></ul>
						<ul class="search_keyword slim_scroll"></ul>
					</div>
				</div>
			</c:when>
			<c:otherwise>
				<ul class="types flexBetween">
					<li><input type="radio" class="fa search" name="search_type" value="search" checked></li>
					<li><input type="radio" class="fa gps" name="search_type" value="gps"></li>
					<li><input type="radio" class="fa subway" name="search_type" value="subway"></li>
				</ul>
				<div class="keyword_wrap">
					<input type="text" name="search_keyword" placeholder="주소 또는 업체명을 검색해 주세요" autocomplete="off" value="${empty search_keyword?'':search_keyword}">
					<input class="btn" type="submit" value="검색">
					<ul class="recent_keyword">
						<li><strong>최근 검색 내용</strong></li>
						<c:forEach var="i" begin="0" end="4">
							<li><input type="button" onclick="recent_search()" value="최근 검색어"></li>
						</c:forEach>
					</ul>
				</div>
			</c:otherwise>
		</c:choose>
		</form>
		<ul class="sub_pages flexCenter">
			<c:if test="${empty m_id}">
				<li class="login"><a href="/login">로그인</a></li>
			</c:if>
			<c:if test="${!empty m_id}">
				<li class="mypage"><a href="/mypage">마이페이지</a></li>
			</c:if>
			<li class="cs"><a href="/cs">고객센터</a></li>
		</ul>
		<button class="menu_btn" type="button" onclick="silde_header()">
			<svg viewBox="0 0 24 24">
				<line class="bar1" x1="3" y1="6" x2="21" y2="6"/>
				<line class="bar2" x1="3" y1="12" x2="21" y2="12"/>
				<line class="bar3" x1="3" y1="18" x2="21" y2="18"/>
			</svg>
		</button>
	</div>
</header>